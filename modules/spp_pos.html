
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RS4T4ZPG52"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RS4T4ZPG52');
    </script>
    <meta property="og:title" content="POS" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.openspp.org/modules/spp_pos.html" />
<meta property="og:site_name" content="OpenSPP Documentation" />
<meta property="og:description" content="The OpenSPP Pos module extends the standard Odoo Point of Sale (POS) system to facilitate the secure and efficient redemption of social protection entitlements. It integrates directly with OpenSPP'..." />
<meta property="og:image" content="https://docs.openspp.org/_static/openspp_logo.png" />
<meta property="og:image:alt" content="OpenSPP Documentation" />
<meta name="description" content="The OpenSPP Pos module extends the standard Odoo Point of Sale (POS) system to facilitate the secure and efficient redemption of social protection entitlements. It integrates directly with OpenSPP'..." />
<meta property="og:locale" content="en_US" />

<title>POS &#8212; OpenSPP Documentation v1.3</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinxcontrib-httpexample.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">


    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/sphinxcontrib-httpexample.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/patch_scrollToActive.js"></script>
    <script src="../_static/search_shortcut.js"></script>
    <script src="../_static/version_switcher.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script src="https://unpkg.com/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script>
mermaid.initialize({
    startOnLoad: true,
    theme: 'default',
    themeVariables: {
        primaryColor: '#0066cc',
        primaryTextColor: '#000000',
        primaryBorderColor: '#0066cc'
    }
});
</script>
    <link rel="canonical" href="https://docs.openspp.org/modules/spp_pos.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within OpenSPP Documentation v1.3"
          href="../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../_static/icon_192.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<!-- Review Status System - DISABLED
<link rel="stylesheet" href="../_static/review_status.css" type="text/css" />
<script src="../_static/review_status_simple.js"></script>
-->

<script src="https://cdn.jsdelivr.net/npm/less@4.1.1" ></script>

<!-- Mermaid Support -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        themeVariables: {
            primaryColor: '#0066cc',
            primaryTextColor: '#000000',
            primaryBorderColor: '#0066cc'
        }
    });
});
</script>

<!-- Matomo Tag Manager -->
<!-- End Matomo Tag Manager -->

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="100">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">OpenSPP Documentation v1.3</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <div class="input-group">
    <label for="q" class="sr-only">Search string
    </label>
    <i class="fa fa-search fa-lg search-icon" aria-hidden="true"></i>
    <input
    type="search" name="q" id="search-input"
    class="form-control"
    placeholder="Search"
    aria-labelledby="Search"
    value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
    />
    <div class="input-group-append">
      <span class="input-group-text" id="shortcut">
        <kbd id="search-shortcut">âŒ˜</kbd>&nbsp;<kbd>K</kbd>
      </span>
    </div>
  </div>
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../getting_started/index.html">
   Getting started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../getting_started/installation_deb.html">
     Installing OpenSPP
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../getting_started/module_installation.html">
     Module installation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../getting_started/spmis_installation.html">
       SP-MIS installation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../getting_started/social_installation.html">
       Social Registry installation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../getting_started/farmer_installation.html">
       Farmer Registry installation
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            
    <p class="openspporglink">
        <a href="https://openspp.org">
            <img src="/_static/openspp_logo.png" alt="openspp.org" /> openspp.org</a>
    </p>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__label">
        <span>POS</span>
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/openspp/documentation"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/openspp/documentation/issues/new?title=Issue%20on%20page%20%2Fmodules/spp_pos.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://docs.openspp.org/contributing/?modules/spp_pos.md#making-contributions-on-github"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/modules/spp_pos.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#purpose">
   Purpose
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dependencies-and-integration">
   Dependencies and Integration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-functionality">
   Additional Functionality
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#entitlement-redemption-workflow">
     Entitlement Redemption Workflow
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dedicated-entitlement-products-and-categories">
     Dedicated Entitlement Products and Categories
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#product-locking-for-entitlement-use">
     Product Locking for Entitlement Use
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>POS</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#purpose">
   Purpose
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dependencies-and-integration">
   Dependencies and Integration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-functionality">
   Additional Functionality
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#entitlement-redemption-workflow">
     Entitlement Redemption Workflow
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dedicated-entitlement-products-and-categories">
     Dedicated Entitlement Products and Categories
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#product-locking-for-entitlement-use">
     Product Locking for Entitlement Use
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="pos">
<h1>POS<a class="headerlink" href="#pos" title="Permalink to this headline">#</a></h1>
<p>The OpenSPP Pos module extends the standard Odoo Point of Sale (POS) system to facilitate the secure and efficient redemption of social protection entitlements. It integrates directly with OpenSPP's entitlement management system, allowing beneficiaries to redeem their benefits at participating retail locations.</p>
<section id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> module provides a critical link between social protection programs and beneficiaries at the point of transaction. It enables the seamless and controlled distribution of benefits through retail channels.</p>
<ul class="simple">
<li><p><strong>Secure Entitlement Redemption</strong>: Allows beneficiaries to redeem their specific entitlements (e.g., vouchers, credits) directly at a POS terminal. This ensures that benefits reach the intended recipients for authorized goods or services.</p></li>
<li><p><strong>Real-time Validation</strong>: Validates entitlement codes instantly, checking their existence, amount, and status to prevent fraudulent or expired redemptions. This enhances program integrity and reduces losses.</p></li>
<li><p><strong>Streamlined Transaction Processing</strong>: Integrates entitlement redemption into the standard POS workflow, simplifying the process for both beneficiaries and POS operators. This improves efficiency and reduces wait times.</p></li>
<li><p><strong>Controlled Product Access</strong>: Designates specific products that can only be purchased using entitlements, ensuring that program funds are spent according to program rules. For example, a food assistance program can ensure funds are used only for approved food items.</p></li>
<li><p><strong>Enhanced Beneficiary Service</strong>: Provides a quick and transparent mechanism for beneficiaries to access their benefits, improving their experience and trust in the program.</p></li>
</ul>
</section>
<section id="dependencies-and-integration">
<h2>Dependencies and Integration<a class="headerlink" href="#dependencies-and-integration" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> module integrates with key OpenSPP and Odoo modules to provide its functionality:</p>
<ul class="simple">
<li><p><strong>Point of Sale (<code class="docutils literal notranslate"><span class="pre">point_of_sale</span></code>)</strong>: This module extends the core Odoo Point of Sale functionality, adding the necessary features for entitlement redemption. It leverages the existing POS interface and workflows.</p></li>
<li><p><strong>G2P Registry Base (<code class="docutils literal notranslate"><span class="pre">g2p_registry_base</span></code>)</strong>: While not a direct dependency, <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> interacts with <code class="docutils literal notranslate"><span class="pre">g2p.entitlement</span></code> which itself relies on <code class="docutils literal notranslate"><span class="pre">g2p_registry_base</span></code> for core beneficiary and registrant data. This ensures that entitlements are linked to verified beneficiaries.</p></li>
<li><p><strong>G2P Programs (<code class="docutils literal notranslate"><span class="pre">g2p_programs</span></code>)</strong>: This is a crucial dependency as <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> is designed to redeem <code class="docutils literal notranslate"><span class="pre">g2p.entitlement</span></code> records, which are generated and managed by the <code class="docutils literal notranslate"><span class="pre">g2p_programs</span></code> module. <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> provides the final step in the entitlement lifecycle by enabling their consumption.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> module serves as the operational interface for the final delivery of benefits defined and managed by the <code class="docutils literal notranslate"><span class="pre">g2p_programs</span></code> module, ensuring that the entitlements created can be effectively utilized by beneficiaries.</p>
</section>
<section id="additional-functionality">
<h2>Additional Functionality<a class="headerlink" href="#additional-functionality" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> module introduces several key features to manage entitlement redemptions:</p>
<section id="entitlement-redemption-workflow">
<h3>Entitlement Redemption Workflow<a class="headerlink" href="#entitlement-redemption-workflow" title="Permalink to this headline">#</a></h3>
<p>POS operators can initiate an entitlement redemption by scanning or manually entering an entitlement code (e.g., a QR code or alphanumeric string). The system then performs a real-time lookup against the <code class="docutils literal notranslate"><span class="pre">g2p.entitlement</span></code> records, verifying the entitlement's validity and available amount. If valid, the entitlement's value is applied to the POS transaction, and the entitlement status is updated accordingly. If the entitlement is invalid or does not exist, the POS operator receives an immediate notification.</p>
</section>
<section id="dedicated-entitlement-products-and-categories">
<h3>Dedicated Entitlement Products and Categories<a class="headerlink" href="#dedicated-entitlement-products-and-categories" title="Permalink to this headline">#</a></h3>
<p>To clearly distinguish entitlement-based transactions from regular sales, the module introduces a specific product template and a dedicated POS category. This allows for:</p>
<ul class="simple">
<li><p><strong>Clear Identification</strong>: A designated &quot;Entitlement Product&quot; simplifies the POS interface for operators when processing entitlement redemptions.</p></li>
<li><p><strong>Organized Reporting</strong>: Separating entitlement-related items into their own category helps in financial tracking and reporting for social protection programs.</p></li>
</ul>
</section>
<section id="product-locking-for-entitlement-use">
<h3>Product Locking for Entitlement Use<a class="headerlink" href="#product-locking-for-entitlement-use" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">spp_pos</span></code> module adds an <code class="docutils literal notranslate"><span class="pre">is_locked</span></code> field to <code class="docutils literal notranslate"><span class="pre">product.template</span></code> records. This allows administrators to mark specific products as &quot;locked,&quot; meaning they can only be purchased using a valid entitlement and cannot be bought with standard payment methods like cash or card. This feature is vital for:</p>
<ul class="simple">
<li><p><strong>Program Compliance</strong>: Ensures that program funds are used exclusively for their intended purpose, such as specific food items or educational supplies.</p></li>
<li><p><strong>Fraud Prevention</strong>: Prevents the misuse or unauthorized sale of subsidized goods, maintaining the integrity of the social protection program.</p></li>
</ul>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">#</a></h2>
<p>The OpenSPP Pos module is essential for the last-mile delivery of social protection benefits, providing a secure, efficient, and controlled mechanism for beneficiaries to redeem their entitlements at the point of sale.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The OpenSPP community<br/>
  
      &copy; Copyright OpenSPP.<br/>
    <div class="extra_footer">
      <p>The text and illustrations in this website are licensed by the OpenSPP Project under a Creative Commons Attribution 4.0 International license. All other trademarks are owned by their respective owners.</p>
    
    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>



    <script type="text/javascript">
        $(document).ready(function() {
            // Hide empty sub menu.
            if ($.trim($(".sticky-top .bd-toc").html()) === "") {
                $(".sticky-top .bd-toc").css("visibility", "hidden");
            }
        });
    </script>


  </body>
</html>