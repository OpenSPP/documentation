
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-RS4T4ZPG52"></script>
<script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-RS4T4ZPG52');
    </script>
<meta content="Adding New Fields and Indicators" property="og:title"/>
<meta content="website" property="og:type"/>
<meta content="https://docs.openspp.org/howto/developer_guides/custom_fields_indicators.html" property="og:url"/>
<meta content="OpenSPP Documentation" property="og:site_name"/>
<meta content="Custom fields allow the system to capture additional information that may be crucial for various social protection programs. Indicator fields are predefined fields within the system used to capture..." property="og:description"/>
<meta content="https://docs.openspp.org/_static/openspp_logo.png" property="og:image"/>
<meta content="OpenSPP Documentation" property="og:image:alt"/>
<meta content="Custom fields allow the system to capture additional information that may be crucial for various social protection programs. Indicator fields are predefined fields within the system used to capture..." name="description"/>
<meta content="en_US" property="og:locale"/>
<title>Adding New Fields and Indicators – How To — OpenSPP Documentation v1.1</title>
<!-- Loaded before other Sphinx assets -->
<link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet"/>
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet"/>
<link href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css">
<link href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" rel="stylesheet" type="text/css">
<link href="../../_static/copybutton.css" rel="stylesheet" type="text/css">
<link href="../../_static/sphinxcontrib-httpexample.css" rel="stylesheet" type="text/css">
<link href="../../_static/graphviz.css" rel="stylesheet" type="text/css">
<link href="../../_static/custom.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/print.css" media="print" rel="stylesheet" type="text/css"/>
<link href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" rel="stylesheet" type="text/css"/>
<!-- Pre-loaded scripts that we'll load fully later -->
<link as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf" rel="preload"/>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
<script src="../../_static/jquery.js"></script>
<script src="../../_static/underscore.js"></script>
<script src="../../_static/doctools.js"></script>
<script src="../../_static/clipboard.min.js"></script>
<script src="../../_static/copybutton.js"></script>
<script src="../../_static/sphinxcontrib-httpexample.js"></script>
<script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
<script src="../../_static/patch_scrollToActive.js"></script>
<script src="../../_static/search_shortcut.js"></script>
<script src="../../_static/design-tabs.js"></script>
<link href="https://docs.openspp.org/howto/developer_guides/custom_fields_indicators.html" rel="canonical">
<link href="../../_static/opensearch.xml" rel="search" title="Search within OpenSPP Documentation v1.1" type="application/opensearchdescription+xml"/>
<link href="../../_static/icon_192.png" rel="shortcut icon"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="custom_service_points.html" rel="next" title="Customize Service Points"/>
<link href="custom_registry_tab_fields.html" rel="prev" title="Customize Registry's Tabs/Fields"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="None" name="docsearch:language"/>
<!-- Google Analytics -->
<!-- Matomo Tag Manager -->
<!-- End Matomo Tag Manager -->
</link></link></link></link></link></link></head>
<body data-offset="100" data-spy="scroll" data-target="#bd-toc-nav">
<!-- Checkboxes to toggle the left sidebar -->
<input aria-label="Toggle navigation sidebar" class="sidebar-toggle" id="__navigation" name="__navigation" type="checkbox"/>
<label class="overlay overlay-navbar" for="__navigation">
<div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input aria-label="Toggle in-page Table of Contents" class="sidebar-toggle" id="__page-toc" name="__page-toc" type="checkbox"/>
<label class="overlay overlay-pagetoc" for="__page-toc">
<div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>
<div class="container-fluid" id="banner"></div>
<div class="container-xl">
<div class="row">
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
<div class="bd-sidebar__content">
<div class="bd-sidebar__top"><div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../">
<h1 class="site-logo" id="site-title">OpenSPP Documentation v1.1</h1>
</a>
</div><form action="../../search.html" class="bd-search d-flex align-items-center" method="get">
<div class="input-group">
<label class="sr-only" for="q">Search string
    </label>
<i aria-hidden="true" class="fa fa-search fa-lg search-icon"></i>
<input aria-labelledby="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" id="search-input" name="q" placeholder="Search" spellcheck="false" type="search" value="">
<div class="input-group-append">
<span class="input-group-text" id="shortcut">
<kbd id="search-shortcut">⌘</kbd> <kbd>K</kbd>
</span>
</div>
</input></div>
</form><nav aria-label="Main" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../getting_started/">
   Getting Started
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox">
<label for="toctree-checkbox-1">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../getting_started/installation_guide.html">
     Installation Guide
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../getting_started/poc_and_pilot.html">
     From Proof of Concept to Pilot
    </a>
</li>
</ul>
</input></li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../tutorial/">
   Tutorial
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
<label for="toctree-checkbox-2">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/audit_log.html">
     Audit log
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/change_requests.html">
     Change Requests
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/consent_management.html">
     Consent management
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/custom_fields.html">
     Custom fields
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/dashboards_and_reports.html">
     Dashboards and reports
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/event_data.html">
     Event data
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/geotargeting.html">
     Geotargeting
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/grievance_redressal_management.html">
     Grievance Redressal Management
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/indicators.html">
     Indicators
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/hardware_integration.html">
     Hardware integration
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/programs_and_cycles.html">
     Programs and cycles
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/vouchers.html">
     Vouchers
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/register_new_individual.html">
     Register new individual
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/enroll_beneficiaries.html">
     Enroll beneficiaries
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/import_registrant_data.html">
     Import registrant data
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/export_registrant_data.html">
     Export Registrant Data
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/administrating_role_based_access.html">
     Administrating role-based access
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/setting_up_service_points.html">
     Setting up service points
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/allocate_funds.html">
     Allocate funds
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/create_social_protection_program.html">
     Create a social protection program
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/create_program_cycle_prepare_entitlements.html">
     Create a program cycle &amp; prepare entitlements
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/configure_cash_entitlements.html">
     Configure cash entitlements
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/import_areas.html">
     Import area
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/point_of_sales.html">
     Point of Sales
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../tutorial/user_guides/configure_ID_generate_qr.html">
     Configure ID and generate QR code
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 current active has-children">
<a class="reference internal" href="../">
   How To
  </a>
<input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
<label for="toctree-checkbox-3">
<i class="fas fa-chevron-down">
</i>
</label>
<ul class="current">
<li class="toctree-l2">
<a class="reference internal" href="../developer_mode.html">
     Developer mode (debug mode)
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="development_setup.html">
     Development Setup
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="setting_up_using_pypi.html">
     Setting Up Using Python Package Manager
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="troubleshooting.html">
     Troubleshooting
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="indicators.html">
     Indicators
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="module.html">
     Module Development
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="troubleshooting.html">
     Troubleshooting
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_areas.html">
     Customize Areas
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_audit.html">
     Customize Audit Logs
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_cr.html">
     Customize Change Request
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_entitlement.html">
     Customize Entitlement
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_registry.html">
     Customize Registry
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_registry_tab_fields.html">
     Customize Registry's Tabs/Fields
    </a>
</li>
<li class="toctree-l2 current active">
<a class="current reference internal" href="#">
     Adding New Fields and Indicators
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="custom_service_points.html">
     Customize Service Points
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="rest_api.html">
     Customize REST API
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="dci.html">
     Implementation of DCI Specification
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="esignet.html">
     eSignate Integration
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="oidc.html">
     Configuring Keycloak for OAuth
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="beneficiary_keycloak.html">
     Beneficiary portal authentication
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/setting_up_farmer_registry.html">
     Setting up Farmer Registry
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/register_new_individual.html">
     Register new individual
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/enroll_beneficiaries.html">
     Enroll beneficiaries
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/import_registrant_data.html">
     Import registrant data
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/export_registrant_data.html">
     Export Registrant Data
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/administrating_role_based_access.html">
     Administrating role-based access
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../user_guides/setting_up_service_points.html">
     Setting up service points
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../technical_reference/">
   Technical Reference
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
<label for="toctree-checkbox-4">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/architecture.html">
     Architecture
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/extensibility.html">
     Customisable, Configurable, and Extensible
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/security.html">
     Security Implementations &amp; Practices
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/code.html">
     Code &amp; Repository Management
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/release_management.html">
     Release Management
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/monitoring.html">
     Monitoring
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/dashboards.html">
     Dashboards
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/integrations.html">
     Integrations
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/external_api.html">
     External API
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/backup.html">
     Backup and Recovery
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/performance_optimization.html">
     Performance Optimization
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/concepts.html">
     Manager Overview
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/program_manager.html">
     Program Manager
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/cycle_manager.html">
     Cycle Manager
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/eligibility_manager.html">
     Eligibility Manager
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/entitlement_manager.html">
     Entitlement Manager
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/deduplication_manager.html">
     Deduplication Manager
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../technical_reference/programs/notification_manager.html">
     Notification Manager
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../explanation/">
   Explanation
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
<label for="toctree-checkbox-5">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/digital_public_infrastructure.html">
     Digital Public Infrastructure
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/social_registry.html">
     Social Registry
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/farmer_registry.html">
     Farmer Registry
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/integrated_beneficiary_registry.html">
     Integrated Beneficiary Registry
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/social_protection_management_information_systems.html">
     Social Protection Management Information Systems
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/user_mgt.html">
     User Management
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/security_archi.html">
     Security Architecture
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/data_collection_validation.html">
     Data Collection and Validation
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/Registering_individuals_and_groups.html">
     Key Terminology
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../explanation/registry_key_concepts.html">
     Organizing Data in the Registry
    </a>
</li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="../../modules/">
   OpenSPP Modules Index
  </a>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../community_and_support/">
   Community and Support
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
<label for="toctree-checkbox-6">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/how_to_contribute_to_the_project.html">
     Contributing
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/i18n_l10n.html">
     Internationalization and Localization
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/module_lifecycle_development_status.html">
     Modules Maturity Levels and Development Status Policy
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/module_lifecycle_maintainer_role.html">
     Module Lifecycle - Maintainer Role Policy
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/code_of_conduct.html">
     Contributor Covenant Code of Conduct
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/security_report.html">
     OpenSPP Vulnerability Disclosure Policy
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/l3_support.html">
     Support Model
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../community_and_support/license.html">
     Licensing
    </a>
</li>
</ul>
</li>
<li class="toctree-l1 has-children">
<a class="reference internal" href="../../contributing/">
   Contributing to documentation
  </a>
<input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
<label for="toctree-checkbox-7">
<i class="fas fa-chevron-down">
</i>
</label>
<ul>
<li class="toctree-l2">
<a class="reference internal" href="../../contributing/setup-build.html">
     Building and checking the quality of documentation
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../contributing/authors.html">
     Authors guide
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../contributing/myst-reference.html">
     MyST reference
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../contributing/sphinx-extensions.html">
     Sphinx extensions
    </a>
</li>
<li class="toctree-l2">
<a class="reference internal" href="../../contributing/admins.html">
     Administrators Guide
    </a>
</li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading">
<span class="caption-text">
  Appendices
 </span>
</p>
<ul class="nav bd-sidenav">
<li class="toctree-l1">
<a class="reference internal" href="../../glossary.html">
   OpenSPP Glossary
  </a>
</li>
</ul>
</div>
</nav></div>
<div class="bd-sidebar__bottom">
<!-- To handle the deprecated key -->
<div class="navbar_extra_footer">
<p class="openspporglink">
<a href="https://openspp.org">
<img alt="openspp.org" src="/_static/openspp_logo.png"/> openspp.org</a>
</p>
</div>
</div>
</div>
<div id="rtd-footer-container"></div>
</div>
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
<div class="header-article row sticky-top noprint">
<div class="col py-1 d-flex header-article-main">
<div class="header-article__left">
<label class="headerbtn" data-placement="right" data-toggle="tooltip" for="__navigation" title="Toggle navigation">
<span class="headerbtn__icon-container">
<i class="fas fa-bars"></i>
</span>
</label>
</div>
<div class="header-article__label">
<span>Adding New Fields and Indicators – How To</span>
</div>
<div class="header-article__right">
<button class="headerbtn" data-placement="bottom" data-toggle="tooltip" onclick="toggleFullScreen()" title="Fullscreen mode">
<span class="headerbtn__icon-container">
<i class="fas fa-expand"></i>
</span>
</button>
<div class="menu-dropdown menu-dropdown-repository-buttons">
<button aria-label="Source repositories" class="headerbtn menu-dropdown__trigger">
<i class="fab fa-github"></i>
</button>
<div class="menu-dropdown__content">
<ul>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="https://github.com/openspp/documentation" title="Source repository">
<span class="headerbtn__icon-container">
<i class="fab fa-github"></i>
</span>
<span class="headerbtn__text-container">repository</span>
</a>
</li>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="https://github.com/openspp/documentation/issues/new?title=Issue%20on%20page%20%2Fhowto/developer_guides/custom_fields_indicators.html&amp;body=Your%20issue%20content%20here." title="Open an issue">
<span class="headerbtn__icon-container">
<i class="fas fa-lightbulb"></i>
</span>
<span class="headerbtn__text-container">open issue</span>
</a>
</li>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="https://docs.openspp.org/contributing/?howto/developer_guides/custom_fields_indicators.md#making-contributions-on-github" title="Edit this page">
<span class="headerbtn__icon-container">
<i class="fas fa-pencil-alt"></i>
</span>
<span class="headerbtn__text-container">suggest edit</span>
</a>
</li>
</ul>
</div>
</div>
<div class="menu-dropdown menu-dropdown-download-buttons">
<button aria-label="Download this page" class="headerbtn menu-dropdown__trigger">
<i class="fas fa-download"></i>
</button>
<div class="menu-dropdown__content">
<ul>
<li>
<a class="headerbtn" data-placement="left" data-toggle="tooltip" href="../../_sources/howto/developer_guides/custom_fields_indicators.md.txt" title="Download source file">
<span class="headerbtn__icon-container">
<i class="fas fa-file"></i>
</span>
<span class="headerbtn__text-container">.md</span>
</a>
</li>
<li>
<button class="headerbtn" data-placement="left" data-toggle="tooltip" onclick="printPdf(this)" title="Print to PDF">
<span class="headerbtn__icon-container">
<i class="fas fa-file-pdf"></i>
</span>
<span class="headerbtn__text-container">.pdf</span>
</button>
</li>
</ul>
</div>
</div>
<label class="headerbtn headerbtn-page-toc" for="__page-toc">
<span class="headerbtn__icon-container">
<i class="fas fa-list"></i>
</span>
</label>
</div>
</div>
<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
<div class="tocsection onthispage pt-5 pb-3">
<i class="fas fa-list"></i> Contents
    </div>
<nav aria-label="Page" id="bd-toc-nav">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#objective">
   Objective
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#step-by-step">
   Step-by-step
  </a>
<ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#naming-conventions-for-custom-fields">
     Naming conventions for custom fields
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-naming-conventions">
       Example naming conventions
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-groups">
     Adding custom fields to groups
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-1-adding-an-indicator-to-track-the-number-of-children">
       Example 1: Adding an indicator to track the number of children
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-2-without-compute-count-and-set-indicator">
       Example 2: Without compute_count_and_set_indicator
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-individuals">
     Adding custom fields to individuals
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-adding-a-custom-field-for-disability-level">
       Example: Adding a custom field for disability level
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#integrating-custom-fields-into-the-ui">
     Integrating custom fields into the UI
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#openspp-views-that-can-be-extended">
       OpenSPP views that can be extended
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-individual-views">
       Adding custom fields to individual views
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-group-views">
       Adding custom fields to group views
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#testing-and-validation">
     Testing and validation
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-test-case">
       Example test case
      </a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<div class="article row">
<div class="col pl-md-3 pl-lg-5 content-container">
<!-- Table of contents that is only displayed when printing the page -->
<div class="onlyprint" id="jb-print-docs-body">
<h1>Adding New Fields and Indicators</h1>
<!-- Table of contents -->
<div id="print-main-content">
<div id="jb-print-toc">
<div>
<h2> Contents </h2>
</div>
<nav aria-label="Page">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#prerequisites">
   Prerequisites
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#objective">
   Objective
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#step-by-step">
   Step-by-step
  </a>
<ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#naming-conventions-for-custom-fields">
     Naming conventions for custom fields
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-naming-conventions">
       Example naming conventions
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-groups">
     Adding custom fields to groups
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-1-adding-an-indicator-to-track-the-number-of-children">
       Example 1: Adding an indicator to track the number of children
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-2-without-compute-count-and-set-indicator">
       Example 2: Without compute_count_and_set_indicator
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-individuals">
     Adding custom fields to individuals
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-adding-a-custom-field-for-disability-level">
       Example: Adding a custom field for disability level
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#integrating-custom-fields-into-the-ui">
     Integrating custom fields into the UI
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#openspp-views-that-can-be-extended">
       OpenSPP views that can be extended
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-individual-views">
       Adding custom fields to individual views
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#adding-custom-fields-to-group-views">
       Adding custom fields to group views
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#testing-and-validation">
     Testing and validation
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#example-test-case">
       Example test case
      </a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
</div>
<main id="main-content" role="main">
<div>
<div class="section" id="adding-new-fields-and-indicators">
<h1>Adding New Fields and Indicators<a class="headerlink" href="#adding-new-fields-and-indicators" title="Permalink to this headline">#</a></h1>
<p>Custom fields allow the system to capture additional information that may be crucial for various social protection programs. Indicator fields are predefined fields within the system used to capture specific, standard metrics or key performance indicators (KPIs) that are essential for monitoring and evaluating the performance of social protection programs. Customizing groups and individuals with new fields and indicators enhances the system's ability to manage and analyze registrant data effectively.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Knowledge of Python, Odoo, XML.</p></li>
<li><p>To set up OpenSPP for development, please refer to the <a class="reference external" href="https://docs.openspp.org/howto/developer_guides/development_setup.html">Developer Guide</a>.</p></li>
</ul>
</div>
<div class="section" id="objective">
<h2>Objective<a class="headerlink" href="#objective" title="Permalink to this headline">#</a></h2>
<p>After following this guide, developers will be able to customize indicators in OpenSPP.</p>
</div>
<div class="section" id="step-by-step">
<h2>Step-by-step<a class="headerlink" href="#step-by-step" title="Permalink to this headline">#</a></h2>
<p>In OpenSPP, both groups and individuals are based on the <strong>res.partner</strong> model. They are differentiated by the is_group field:</p>
<ul class="simple">
<li><p>is_group = True for groups.</p></li>
<li><p>is_group = False for individuals.</p></li>
</ul>
<p>These entities are linked through the <strong>G2PGroupMembership</strong> model, which connects individuals to their respective groups.</p>
<div class="section" id="naming-conventions-for-custom-fields">
<h3>Naming conventions for custom fields<a class="headerlink" href="#naming-conventions-for-custom-fields" title="Permalink to this headline">#</a></h3>
<p>Custom fields in OpenSPP follow a specific naming convention:</p>
<ul class="simple">
<li><p><strong>z_</strong> prefix for custom fields (x_ when created from the UI).</p></li>
<li><p><strong>ind</strong> for indicator fields.</p></li>
<li><p><strong>grp</strong> for group-related fields.</p></li>
<li><p><strong>cst</strong> for custom fields.</p></li>
<li><p><strong>indv</strong> for individual-related fields.</p></li>
</ul>
<div class="section" id="example-naming-conventions">
<h4>Example naming conventions<a class="headerlink" href="#example-naming-conventions" title="Permalink to this headline">#</a></h4>
<ol class="arabic simple">
<li><p>Indicator field for group</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">z_ind_grp_num_children</span>
</pre></div>
</div>
<p><strong>z_</strong>: prefix.
<strong>ind</strong>: Indicator.
<strong>grp</strong>: Group-related.
<strong>num_children</strong>: Descriptive name indicating the number of children</p>
<ol class="arabic simple" start="2">
<li><p>Custom field for individual</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">z_cst_indv_disability_level</span>
</pre></div>
</div>
<p><strong>z_</strong>: prefix.
<strong>cst</strong>: Custom field.
<strong>indv</strong>: Individual-related.
<strong>disability_level</strong>: Descriptive name indicating the disability level.</p>
</div>
</div>
<div class="section" id="adding-custom-fields-to-groups">
<h3>Adding custom fields to groups<a class="headerlink" href="#adding-custom-fields-to-groups" title="Permalink to this headline">#</a></h3>
<div class="section" id="example-1-adding-an-indicator-to-track-the-number-of-children">
<h4>Example 1: Adding an indicator to track the number of children<a class="headerlink" href="#example-1-adding-an-indicator-to-track-the-number-of-children" title="Permalink to this headline">#</a></h4>
<p>To add a custom field to a group, follow these steps:</p>
<ol class="arabic simple">
<li><p>Define the field:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">G2PGroup</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_inherit</span> <span class="o">=</span> <span class="s2">"res.partner"</span>

    <span class="n">z_ind_grp_num_children</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span>
        <span class="s2">"Number of Children"</span><span class="p">,</span>
        <span class="n">compute</span><span class="o">=</span><span class="s2">"_compute_ind_grp_num_children"</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"Number of children in the group"</span><span class="p">,</span>
        <span class="n">store</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Implement the compute method:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_compute_ind_grp_num_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="n">children</span> <span class="o">=</span> <span class="n">now</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="n">CHILDREN_AGE_LIMIT</span><span class="p">)</span>
    <span class="n">domain</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">"birthdate"</span><span class="p">,</span> <span class="s2">"&gt;="</span><span class="p">,</span> <span class="n">children</span><span class="p">)]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">compute_count_and_set_indicator</span><span class="p">(</span><span class="s2">"z_ind_grp_num_children"</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">domain</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>compute_count_and_set_indicator</strong> is a helper function in the OpenSPP API that simplifies computing indicators. You provide the field name, any specific relationship kinds, and the domain criteria to filter the relevant records.</p>
</div>
<div class="section" id="example-2-without-compute-count-and-set-indicator">
<h4>Example 2: Without compute_count_and_set_indicator<a class="headerlink" href="#example-2-without-compute-count-and-set-indicator" title="Permalink to this headline">#</a></h4>
<p>To compute an indicator without using compute_count_and_set_indicator, directly implement the compute logic within the method.</p>
<ol class="arabic simple">
<li><p>Define the field:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">G2PGroup</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_inherit</span> <span class="o">=</span> <span class="s2">"res.partner"</span>

    <span class="n">z_ind_grp_is_single_head_hh</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Boolean</span><span class="p">(</span>
        <span class="s2">"Is Single-Headed Household"</span><span class="p">,</span>
        <span class="n">compute</span><span class="o">=</span><span class="s2">"_compute_ind_grp_is_single_head_hh"</span><span class="p">,</span>
        <span class="n">help</span><span class="o">=</span><span class="s2">"Indicates if the household is single-headed"</span><span class="p">,</span>
        <span class="n">store</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">allow_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Implement the compute method:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_compute_ind_grp_is_single_head_hh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
        <span class="n">adult_count</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">group_membership_ids</span><span class="o">.</span><span class="n">filtered</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">member</span><span class="p">:</span> <span class="n">member</span><span class="o">.</span><span class="n">individual</span><span class="o">.</span><span class="n">birthdate</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">18</span><span class="p">))</span>
        <span class="p">)</span><span class="o">.</span><span class="n">mapped</span><span class="p">(</span><span class="s1">'individual'</span><span class="p">)</span>
        <span class="n">record</span><span class="o">.</span><span class="n">z_ind_grp_is_single_head_hh</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">adult_count</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Do not use <strong>@api.depends</strong> when you want to compute indicators based on individual information, it will be very inefficient. we have another mechanism to recompute when needed.</p>
</div>
</div>
<div class="section" id="adding-custom-fields-to-individuals">
<h3>Adding custom fields to individuals<a class="headerlink" href="#adding-custom-fields-to-individuals" title="Permalink to this headline">#</a></h3>
<div class="section" id="example-adding-a-custom-field-for-disability-level">
<h4>Example: Adding a custom field for disability level<a class="headerlink" href="#example-adding-a-custom-field-for-disability-level" title="Permalink to this headline">#</a></h4>
<p>To add a custom field to an individual it is only necessary to define the field:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">G2PIndividual</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">_inherit</span> <span class="o">=</span> <span class="s2">"res.partner"</span>
    <span class="n">z_cst_indv_disability_level</span> <span class="o">=</span> <span class="n">fields</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="s2">"Disability Level"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="integrating-custom-fields-into-the-ui">
<h3>Integrating custom fields into the UI<a class="headerlink" href="#integrating-custom-fields-into-the-ui" title="Permalink to this headline">#</a></h3>
<p>To ensure custom fields are accessible in the user interface for filtering and reporting, modify the XML views in OpenSPP. Below is a list of views that can be extended, followed by examples of how to add custom fields to these views.</p>
<div class="section" id="openspp-views-that-can-be-extended">
<h4>OpenSPP views that can be extended<a class="headerlink" href="#openspp-views-that-can-be-extended" title="Permalink to this headline">#</a></h4>
<p><strong>Individuals views</strong></p>
<ul class="simple">
<li><p>Tree view
-- Identifier: g2p_registry_individual.view_individuals_list_tree</p></li>
<li><p>Form view
-- Identifier: g2p_registry_individual.view_individuals_form</p></li>
</ul>
<p><strong>Groups views</strong></p>
<ul class="simple">
<li><p>Tree view
-- Identifier: g2p_registry_group.view_groups_list_tree</p></li>
<li><p>Form view
-- Identifier: g2p_registry_group.view_groups_form</p></li>
</ul>
<p>By extending these views, you can ensure that custom fields are visible and manageable within the OpenSPP interface. Here are examples of how to extend these views to add your custom fields.</p>
</div>
<div class="section" id="adding-custom-fields-to-individual-views">
<h4>Adding custom fields to individual views<a class="headerlink" href="#adding-custom-fields-to-individual-views" title="Permalink to this headline">#</a></h4>
<p><strong>Tree view</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;odoo&gt;</span>
<span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">"view_individuals_list_tree_custom"</span><span class="w"> </span><span class="na">model=</span><span class="s">"ir.ui.view"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>view_individuals_list_tree_custom<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"inherit_id"</span><span class="w"> </span><span class="na">ref=</span><span class="s">"g2p_registry_individual.view_individuals_list_tree"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"arch"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//field[@name='address']"</span><span class="w"> </span><span class="na">position=</span><span class="s">"attributes"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">"invisible"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//field[@name='address']"</span><span class="w"> </span><span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"z_cst_indv_disability_level"</span><span class="w"> </span><span class="na">string=</span><span class="s">"Disability Level"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">        </span><span class="nt">&lt;/field&gt;</span>
<span class="w">    </span><span class="nt">&lt;/record&gt;</span>
<span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
<p><strong>Form view</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;odoo&gt;</span>
<span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">"view_individuals_form_custom"</span><span class="w"> </span><span class="na">model=</span><span class="s">"ir.ui.view"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>view_individuals_form_custom<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"inherit_id"</span><span class="w"> </span><span class="na">ref=</span><span class="s">"g2p_registry_individual.view_individuals_form"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"arch"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//page[@name='basic_info']/group/group[1]"</span><span class="w"> </span><span class="na">position=</span><span class="s">"attributes"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">"invisible"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//page[@name='basic_info']/group/group[1]"</span><span class="w"> </span><span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"z_cst_indv_disability_level"</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;/group&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">        </span><span class="nt">&lt;/field&gt;</span>
<span class="w">    </span><span class="nt">&lt;/record&gt;</span>
<span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-custom-fields-to-group-views">
<h4>Adding custom fields to group views<a class="headerlink" href="#adding-custom-fields-to-group-views" title="Permalink to this headline">#</a></h4>
<p><strong>Tree view</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;odoo&gt;</span>
<span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">"view_individuals_list_tree_custom"</span><span class="w"> </span><span class="na">model=</span><span class="s">"ir.ui.view"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>view_individuals_list_tree_custom<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"inherit_id"</span><span class="w"> </span><span class="na">ref=</span><span class="s">"g2p_registry_individual.view_individuals_list_tree"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"arch"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//field[@name='address']"</span><span class="w"> </span><span class="na">position=</span><span class="s">"attributes"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">"invisible"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//field[@name='address']"</span><span class="w"> </span><span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"z_cst_indv_disability_level"</span><span class="w"> </span><span class="na">string=</span><span class="s">"Disability Level"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">        </span><span class="nt">&lt;/field&gt;</span>
<span class="w">    </span><span class="nt">&lt;/record&gt;</span>
<span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
<p><strong>Form view</strong></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;odoo&gt;</span>
<span class="w">    </span><span class="nt">&lt;record</span><span class="w"> </span><span class="na">id=</span><span class="s">"view_individuals_form_custom"</span><span class="w"> </span><span class="na">model=</span><span class="s">"ir.ui.view"</span><span class="nt">&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"name"</span><span class="nt">&gt;</span>view_individuals_form_custom<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"model"</span><span class="nt">&gt;</span>res.partner<span class="nt">&lt;/field&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"inherit_id"</span><span class="w"> </span><span class="na">ref=</span><span class="s">"g2p_registry_individual.view_individuals_form"</span><span class="w"> </span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"arch"</span><span class="w"> </span><span class="na">type=</span><span class="s">"xml"</span><span class="nt">&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//page[@name='basic_info']/group/group[1]"</span><span class="w"> </span><span class="na">position=</span><span class="s">"attributes"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;attribute</span><span class="w"> </span><span class="na">name=</span><span class="s">"invisible"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/attribute&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">            </span><span class="nt">&lt;xpath</span><span class="w"> </span><span class="na">expr=</span><span class="s">"//page[@name='basic_info']/group/group[1]"</span><span class="w"> </span><span class="na">position=</span><span class="s">"after"</span><span class="nt">&gt;</span>
<span class="w">                </span><span class="nt">&lt;group</span><span class="w"> </span><span class="na">colspan=</span><span class="s">"2"</span><span class="nt">&gt;</span>
<span class="w">                    </span><span class="nt">&lt;field</span><span class="w"> </span><span class="na">name=</span><span class="s">"z_cst_indv_disability_level"</span><span class="nt">/&gt;</span>
<span class="w">                </span><span class="nt">&lt;/group&gt;</span>
<span class="w">            </span><span class="nt">&lt;/xpath&gt;</span>
<span class="w">        </span><span class="nt">&lt;/field&gt;</span>
<span class="w">    </span><span class="nt">&lt;/record&gt;</span>
<span class="nt">&lt;/odoo&gt;</span>
</pre></div>
</div>
<p>By integrating these fields into the appropriate views, you ensure that the custom data is visible and manageable within the OpenSPP interface, enhancing the system's usability and functionality.</p>
</div>
</div>
<div class="section" id="testing-and-validation">
<h3>Testing and validation<a class="headerlink" href="#testing-and-validation" title="Permalink to this headline">#</a></h3>
<p>Testing customizations is essential to ensure they work as expected. Validate your changes by writing tests with sample data and scenarios.</p>
<div class="section" id="example-test-case">
<h4>Example test case<a class="headerlink" href="#example-test-case" title="Permalink to this headline">#</a></h4>
<p>To validate your custom fields and computed indicators, create a test class.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">logging</span>

<span class="kn">from</span> <span class="nn">dateutil.relativedelta</span> <span class="kn">import</span> <span class="n">relativedelta</span>
<span class="kn">from</span> <span class="nn">odoo.tests</span> <span class="kn">import</span> <span class="n">tagged</span>
<span class="kn">from</span> <span class="nn">odoo.tests.common</span> <span class="kn">import</span> <span class="n">TransactionCase</span>

<span class="n">_logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="nd">@tagged</span><span class="p">(</span><span class="s2">"post_install"</span><span class="p">,</span> <span class="s2">"-at_install"</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">ComputeIndicatorFieldsTest</span><span class="p">(</span><span class="n">TransactionCase</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">setUpClass</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">setUpClass</span><span class="p">()</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">env</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">env</span><span class="p">(</span>
            <span class="n">context</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
                <span class="bp">cls</span><span class="o">.</span><span class="n">env</span><span class="o">.</span><span class="n">context</span><span class="p">,</span>
                <span class="n">test_queue_job_no_delay</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Initial Setup of Variables</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">registrant_1</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s2">"res.partner"</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Heidi Jaddranka"</span><span class="p">,</span>
                <span class="s2">"is_group"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">"is_registrant"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"Female"</span><span class="p">,</span>
                <span class="s2">"birthdate"</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
                <span class="s2">"z_cst_indv_disability_level"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">registrant_2</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s2">"res.partner"</span><span class="p">]</span><span class="o">.</span><span class="n">create</span>

        <span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Angus Kleitos"</span><span class="p">,</span>
                <span class="s2">"is_group"</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">"is_registrant"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"Male"</span><span class="p">,</span>
                <span class="s2">"birthdate"</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
                <span class="s2">"z_cst_indv_disability_level"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">group_1</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">env</span><span class="p">[</span><span class="s2">"res.partner"</span><span class="p">]</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Group 1"</span><span class="p">,</span>
                <span class="s2">"is_group"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">"is_registrant"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">members1</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span><span class="s2">"individual"</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">registrant_1</span><span class="o">.</span><span class="n">id</span><span class="p">},</span>
            <span class="p">{</span><span class="s2">"individual"</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">registrant_2</span><span class="o">.</span><span class="n">id</span><span class="p">}</span>
        <span class="p">]</span>
        <span class="n">group1_members</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">val</span><span class="p">]</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">members1</span><span class="p">]</span>
        <span class="bp">cls</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s2">"group_membership_ids"</span><span class="p">:</span> <span class="n">group1_members</span><span class="p">})</span>

    <span class="k">def</span> <span class="nf">test_01_num_children</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">_compute_ind_grp_num_children</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">z_ind_grp_num_children</span><span class="p">,</span>
            <span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_02_num_elderly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">birthdate</span> <span class="o">=</span> <span class="n">now</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">66</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">registrant_1</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s2">"birthdate"</span><span class="p">:</span> <span class="n">birthdate</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">_compute_ind_grp_num_elderly</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">z_ind_grp_num_elderly</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_03_num_adults_female_not_elderly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">birthdate</span> <span class="o">=</span> <span class="n">now</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">registrant_1</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s2">"birthdate"</span><span class="p">:</span> <span class="n">birthdate</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">_compute_ind_grp_num_adults_female_not_elderly</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">z_ind_grp_num_adults_female_not_elderly</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_04_num_adults_male_not_elderly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="n">birthdate</span> <span class="o">=</span> <span class="n">now</span> <span class="o">-</span> <span class="n">relativedelta</span><span class="p">(</span><span class="n">years</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">registrant_2</span><span class="o">.</span><span class="n">write</span><span class="p">({</span><span class="s2">"birthdate"</span><span class="p">:</span> <span class="n">birthdate</span><span class="p">})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">_compute_ind_grp_num_adults_male_not_elderly</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">group_1</span><span class="o">.</span><span class="n">z_ind_grp_num_adults_male_not_elderly</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>
</div>
<p>By writing and running these tests, you can ensure that your custom fields and indicators work correctly within OpenSPP. This approach helps maintain the system's integrity and reliability as you implement customizations.</p>
</div>
</div>
</div>
</div>
</div>
</main>
<footer class="footer-article noprint">
<!-- Previous / next buttons -->
<div class="prev-next-area">
<a class="left-prev" href="custom_registry_tab_fields.html" id="prev-link" title="previous page">
<i class="fas fa-angle-left"></i>
<div class="prev-next-info">
<p class="prev-next-subtitle">previous</p>
<p class="prev-next-title">Customize Registry's Tabs/Fields</p>
</div>
</a>
<a class="right-next" href="custom_service_points.html" id="next-link" title="next page">
<div class="prev-next-info">
<p class="prev-next-subtitle">next</p>
<p class="prev-next-title">Customize Service Points</p>
</div>
<i class="fas fa-angle-right"></i>
</a>
</div>
</footer>
</div>
</div>
<div class="footer-content row">
<footer class="col footer"><p>
  
    By The OpenSPP community<br/>
  
      © Copyright OpenSPP.<br/>
<div class="extra_footer">
<p>The text and illustrations in this website are licensed by the OpenSPP Project under a Creative Commons Attribution 4.0 International license. All other trademarks are owned by their respective owners.</p>
</div>
</p>
</footer>
</div>
</div>
</div>
</div>
<!-- Scripts loaded after <body> so the DOM is not blocked -->
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<script type="text/javascript">
        $(document).ready(function() {
            // Hide empty sub menu.
            if ($.trim($(".sticky-top .bd-toc").html()) === "") {
                $(".sticky-top .bd-toc").css("visibility", "hidden");
            }
        });
    </script>
</body>
</html>